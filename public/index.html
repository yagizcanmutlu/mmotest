<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Byzas Agora – Sosyal Hub (Planets)</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%;background:#000;font-family:Inter,system-ui,Arial}
    #root{height:100dvh;width:100vw;overflow:hidden;position:relative}

    .hud{position:absolute;top:12px;left:12px;display:flex;gap:10px;align-items:center;z-index:10}
    .logo{color:#8ef;font-weight:800;letter-spacing:.3px;text-shadow:0 0 8px #48f}
    .points{padding:6px 10px;border:1px solid #2a5;border-radius:8px;color:#aef;background:rgba(10,30,18,.35);backdrop-filter:blur(4px)}

    .cta{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:12;background:rgba(0,0,0,.55);backdrop-filter:blur(4px)}
    .card{padding:18px 16px;background:rgba(8,10,20,.9);border:1px solid #234;border-radius:14px;width:320px;display:flex;flex-direction:column;gap:10px}
    .card h1{color:#9cf;font-size:18px}
    .card input{padding:10px;border-radius:10px;border:1px solid #345;background:#0a0f14;color:#cfe}
    .card button{padding:12px;border-radius:12px;border:0;font-weight:700;background:#1d8f4a;color:#eafff0;cursor:pointer}

    .chat{position:absolute;left:12px;bottom:12px;width:340px;z-index:10}
    .chat-log{height:150px;overflow:auto;background:rgba(5,7,12,.55);border:1px solid #223;border-radius:10px;padding:8px;color:#cfe}
    .chat-log p{margin:4px 0}
    .chat-input{margin-top:6px;display:flex;gap:6px}
    .chat-input input{flex:1;padding:10px;border-radius:10px;border:1px solid #345;background:#0a0f14;color:#cfe}
    .chat-input button{padding:10px 12px;border-radius:10px;border:0;background:#29549b;color:#e7f0ff;cursor:pointer}

    .hint{position:absolute;right:12px;bottom:12px;color:#7da;font-size:12px;opacity:.85;z-index:10;background:rgba(0,0,0,.35);padding:6px 8px;border-radius:8px;border:1px solid #123}
    .floating{position:absolute;top:60px;left:50%;transform:translateX(-50%);color:#aff;text-shadow:0 0 8px #0ff;z-index:10;font-weight:700;display:none}

    /* Mobile controls */
    #joystick{position:absolute;left:14px;bottom:14px;width:120px;height:120px;border-radius:50%;border:1px solid #234;background:rgba(10,14,20,.35);backdrop-filter:blur(3px);z-index:11;touch-action:none}
    #stick{position:absolute;left:50%;top:50%;width:56px;height:56px;transform:translate(-50%,-50%);border-radius:50%;background:rgba(80,180,255,.35);border:1px solid #2a4}
    #lookpad{position:absolute;right:0;bottom:0;width:40vw;height:55vh;z-index:11;touch-action:none}

    /* Small screens: shrink chat */
    @media (max-width: 900px){
      .chat{width:260px}
      .chat-log{height:120px}
    }
  </style>
  <script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <div id="root">
    <div class="hud">
      <div class="logo">BYZAS&nbsp;AGORA</div>
      <div class="points" id="points">Points: 0</div>
    </div>

    <div class="cta" id="cta">
      <div class="card">
        <h1>Agora'ya katıl</h1>
        <input id="nameInput" placeholder="Görünen adın (ör. Yağız)" maxlength="20" />
        <button id="playBtn">Giriş (WASD + Fare • Mobil: Joystick)</button>
        <small style="color:#8aa">Emote: 1–6 • Chat: Enter • Zoom: Mouse Wheel</small>
      </div>
    </div>

    <div class="chat">
      <div class="chat-log" id="chatLog"></div>
      <div class="chat-input">
        <input id="chatText" placeholder="Mesaj yaz… (/wave, /dance …)" />
        <button id="chatSend">Gönder</button>
      </div>
    </div>

    <!-- Mobile controls -->
    <div id="joystick"><div id="stick"></div></div>
    <div id="lookpad"></div>

    <div class="hint">WASD / Joystick ile hareket • Fare/sağ sürükle ile bakış • Scroll: Zoom</div>
    <div class="floating" id="toast"></div>
  </div>
  <script src="client.js"></script>
</body>
</html>
